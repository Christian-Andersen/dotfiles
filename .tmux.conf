# --- General Settings ---
set -g mouse off                       # Matches mouse_mode false
set -g status-interval 5
set -g base-index 1                    # Start windows at 1 (easier for Alt+1..9)
setw -g pane-base-index 1
set -g renumber-windows on             # Keep window numbers gapless

# --- Keybindings (No Prefix / Global) ---
# These emulate your "shared" block in Zellij

# Pane Navigation (Alt + hjkl)
bind-key -n M-h select-pane -L
bind-key -n M-l select-pane -R
bind-key -n M-j select-pane -D
bind-key -n M-k select-pane -U

# Window/Tab Navigation
bind-key -n M-q previous-window        # Alt + q
bind-key -n M-e next-window            # Alt + e
bind-key -n M-w new-window             # Alt + w

# Pane Management
bind-key -n M-n split-window -h -c "#{pane_current_path}" # Alt + n (New Pane Right)
bind-key -n M-b split-window -v -c "#{pane_current_path}" # Alt + b (New Pane Down)
bind-key -n M-x kill-pane              # Alt + x
bind-key -n M-f resize-pane -Z         # Alt + f (Toggle Fullscreen)

# Resizing
bind-key -n M-= resize-pane -U 5
bind-key -n M-- resize-pane -D 5

# Layouts
bind-key -n M-[ next-layout            # Similar to NextSwapLayout
bind-key -n M-] previous-layout

# --- Mimicking Zellij Modes (Prefix-based) ---
# Since Tmux isn't modal by default, we use the prefix (default Ctrl+b) 
# to access "Mode" specific actions.

# Tab Mode equivalents (Prefix + number)
bind-key 1 select-window -t 1
bind-key 2 select-window -t 2
bind-key 3 select-window -t 3
bind-key 4 select-window -t 4
bind-key 5 select-window -t 5
bind-key 6 select-window -t 6
bind-key 7 select-window -t 7
bind-key 8 select-window -t 8
bind-key 9 select-window -t 9

# Rename actions
bind-key r command-prompt -I "#W" "rename-window '%%'"
bind-key c command-prompt -I "#P" "rename-pane '%%'"

# Scroll/Copy Mode
bind-key -n M-s copy-mode              # Alt + s to enter Scroll mode
# Inside copy-mode, Tmux uses vi keys by default if configured:
setw -g mode-keys vi

# Session Management
bind-key d detach-client               # Prefix + d
bind-key w choose-tree -s              # Similar to session-manager

# --- Visuals ---
set -g pane-border-style fg=brightblack
set -g pane-active-border-style fg=blue
set -g status-style bg=default,fg=white
